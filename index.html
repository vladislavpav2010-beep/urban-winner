<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Urban Winner Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg: #0d1117; --card: #161b22; --accent: #58a6ff; --win: #238636; --loss: #da3633; }
        body { background: var(--bg); color: white; font-family: -apple-system, sans-serif; margin: 0; padding-bottom: 70px; }
        
        /* –®–∞–ø–∫–∞ */
        .header { display: flex; justify-content: space-between; padding: 15px; background: var(--card); border-bottom: 1px solid #30363d; }
        .balance { color: #f2e054; font-weight: bold; }

        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .game-view { height: 250px; position: relative; background: radial-gradient(circle at bottom left, #1c2128, var(--bg)); overflow: hidden; display: flex; align-items: center; justify-content: center; }
        #multiplier { font-size: 48px; font-weight: 800; z-index: 10; }
        .rocket { position: absolute; bottom: 20px; left: 20px; font-size: 40px; transition: 0.1s linear; }

        /* –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä (–õ–µ–Ω—Ç–∞ —Å—Ç–∞–≤–æ–∫) */
        .live-bets { padding: 10px; background: #090c10; height: 120px; overflow-y: hidden; font-size: 12px; }
        .bet-item { display: flex; justify-content: space-between; padding: 5px; border-bottom: 1px solid #21262d; opacity: 0.8; }

        /* –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–≤–∫–∏ */
        .bet-zone { padding: 15px; }
        .main-btn { width: 100%; padding: 18px; border-radius: 12px; border: none; background: var(--accent); color: white; font-size: 18px; font-weight: bold; }

        /* –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ (–ù–∞–≤–∏–≥–∞—Ü–∏—è) */
        .nav { position: fixed; bottom: 0; width: 100%; background: var(--card); display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid #30363d; }
        .nav-item { text-align: center; font-size: 10px; color: #8b949e; text-decoration: none; cursor: pointer; }
        .nav-item.active { color: var(--accent); }
        .nav-icon { font-size: 20px; display: block; margin-bottom: 4px; }

        /* –û–∫–Ω–∞ (–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å, –†–µ—Ñ–µ—Ä–∞–ª—ã) */
        .screen { display: none; padding: 20px; }
        .screen.active { display: block; }
    </style>
</head>
<body>

    <div id="game-screen" class="screen active">
        <div class="header">
            <span>üë§ –í–ª–∞–¥–∏—Å–ª–∞–≤</span>
            <span class="balance">üíé <span id="user-bal">0.12</span> TON</span>
        </div>
        <div class="game-view">
            <div id="multiplier">1.00x</div>
            <div id="rocket" class="rocket">üöÄ</div>
        </div>
        <div class="live-bets" id="bets-list">
            </div>
        <div class="bet-zone">
            <button class="main-btn" id="action-btn" onclick="toggleGame()">–°–î–ï–õ–ê–¢–¨ –°–¢–ê–í–ö–£</button>
        </div>
    </div>

    <div id="inv-screen" class="screen">
        <h2>üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
        <p>–í–∞—à–∏ —Å–∫–∏–Ω—ã –∏ –ø–æ–¥–∞—Ä–∫–∏:</p>
        <div style="background: #161b22; padding: 15px; border-radius: 10px; border: 1px dashed #30363d;">
            –ü—É—Å—Ç–æ. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –∏–ª–∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–∑–µ–π.
        </div>
    </div>

    <div id="ref-screen" class="screen">
        <h2>üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</h2>
        <p>–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π 10% –æ—Ç –∏—Ö —Å—Ç–∞–≤–æ–∫!</p>
        <input type="text" readonly value="t.me/your_bot?start=12345" style="width:100%; background:#0d1117; color:white; border:1px solid #30363d; padding:10px; border-radius:5px;">
    </div>

    <nav class="nav">
        <div class="nav-item active" onclick="showScreen('game-screen', this)">
            <span class="nav-icon">üöÄ</span>–ö–†–ê–®
        </div>
        <div class="nav-item" onclick="showScreen('inv-screen', this)">
            <span class="nav-icon">üéí</span>–ò–ù–í–ï–ù–¢–ê–†–¨
        </div>
        <div class="nav-item" onclick="showScreen('ref-screen', this)">
            <span class="nav-icon">üîó</span>–†–ï–§–´
        </div>
    </nav>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let isRunning = false;
        let m = 1.00;
        let timer;

        function showScreen(id, el) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        function toggleGame() {
            let btn = document.getElementById('action-btn');
            if(!isRunning) {
                // –°—Ç–∞—Ä—Ç
                isRunning = true;
                m = 1.00;
                btn.innerText = "–ó–ê–ë–†–ê–¢–¨";
                btn.style.background = "#d29922";
                startRocket();
            } else {
                // –ó–∞–±—Ä–∞–ª
                stopGame(false);
            }
        }

        function startRocket() {
            let crash = (Math.random() * 5 + 1.1).toFixed(2);
            timer = setInterval(() => {
                m += 0.01;
                document.getElementById('multiplier').innerText = m.toFixed(2) + "x";
                
                // –î–≤–∏–∂–µ–Ω–∏–µ —Ä–∞–∫–µ—Ç—ã
                let pos = (m - 1) * 30;
                document.getElementById('rocket').style.transform = `translate(${pos}px, -${pos}px)`;

                if(m >= crash) stopGame(true);
            }, 80);
        }

        function stopGame(isCrash) {
            clearInterval(timer);
            isRunning = false;
            let btn = document.getElementById('action-btn');
            btn.innerText = "–°–î–ï–õ–ê–¢–¨ –°–¢–ê–í–ö–£";
            btn.style.background = "#58a6ff";
            if(isCrash) {
                document.getElementById('multiplier').innerText = "BOOM! " + m.toFixed(2);
                document.getElementById('multiplier').style.color = "#da3633";
            }
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞
        setInterval(() => {
            const users = ["Alice", "CryptoKing", "Vanya", "Doge", "Rich_Boy"];
            const user = users[Math.floor(Math.random()*users.length)];
            const amount = (Math.random() * 2).toFixed(2);
            const list = document.getElementById('bets-list');
            const item = document.createElement('div');
            item.className = 'bet-item';
            item.innerHTML = `<span>${user}</span> <span>üíé ${amount} TON</span>`;
            list.prepend(item);
            if(list.children.length > 5) list.lastChild.remove();
        }, 3000);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>TON BET ULTIMATE | BLACK EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           ADVANCED GLOBAL ARCHITECTURE
           ========================================
        */
        :root {
            --bg-deep: #030405;
            --bg-panel: #0b0d0f;
            --bg-item: #14171a;
            --accent: #00d2ff;
            --accent-glow: rgba(0, 210, 255, 0.35);
            --grad-main: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            --grad-gold: linear-gradient(135deg, #ffe000 0%, #799f0c 100%);
            --grad-premium: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%);
            --text-main: #ffffff;
            --text-dim: #707579;
            --success: #00f260;
            --error: #f953c6;
            --border-light: rgba(255, 255, 255, 0.05);
            --radius-xl: 32px;
            --radius-md: 16px;
            --font: 'Inter', sans-serif;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* RESET */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { 
            background: var(--bg-deep); color: var(--text-main); font-family: var(--font);
            height: 100vh; overflow: hidden; user-select: none;
        }

        /* LAYOUT ELEMENTS */
        #app-wrapper { height: 100vh; display: flex; flex-direction: column; position: relative; }
        .main-content { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 120px; z-index: 10; }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 0; }

        /* ========================================
           MODERN HEADER SYSTEM
           ========================================
        */
        .header-v3 {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(3, 4, 5, 0.8); backdrop-filter: blur(25px); border-bottom: 1px solid var(--border-light);
            position: sticky; top: 0; z-index: 1000;
        }
        .brand-zone { display: flex; align-items: center; gap: 12px; }
        .brand-logo { 
            width: 44px; height: 44px; background: var(--grad-main); border-radius: 14px;
            display: flex; align-items: center; justify-content: center; font-weight: 900;
            box-shadow: 0 4px 15px var(--accent-glow); color: #000; font-size: 20px;
        }
        .brand-text .name { font-size: 16px; font-weight: 800; letter-spacing: -0.5px; display: block; }
        .brand-text .status { font-size: 10px; font-weight: 900; color: var(--success); text-transform: uppercase; }

        .balance-widget {
            background: var(--bg-panel); border: 1px solid var(--border-light); border-radius: 20px;
            padding: 4px 4px 4px 16px; display: flex; align-items: center; gap: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        .balance-widget .val { font-size: 18px; font-weight: 900; font-variant-numeric: tabular-nums; }
        .btn-deposit {
            width: 32px; height: 32px; background: var(--bg-item); border-radius: 14px;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
            transition: var(--transition); color: var(--accent);
        }
        .btn-deposit:active { transform: scale(0.9); background: var(--accent); color: #000; }

        /* ========================================
           BATTLE PASS COMPONENT
           ========================================
        */
        .pass-banner {
            background: linear-gradient(90deg, #1a1c1e 0%, #0b0d0f 100%);
            border-radius: var(--radius-md); padding: 15px; margin-bottom: 25px;
            border: 1px solid var(--border-light); position: relative; overflow: hidden;
        }
        .pass-banner::after {
            content: ''; position: absolute; right: -20px; top: -20px;
            width: 100px; height: 100px; background: var(--grad-premium);
            filter: blur(50px); opacity: 0.3;
        }
        .pass-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px; }
        .pass-title { font-size: 12px; font-weight: 900; color: #fcb045; text-transform: uppercase; }
        .pass-lvl { font-size: 14px; font-weight: 800; }
        .pass-progress-bg { width: 100%; height: 6px; background: #222; border-radius: 10px; }
        .pass-progress-fill { width: 45%; height: 100%; background: var(--grad-premium); border-radius: 10px; }

        /* ========================================
           GAMES GRID
           ========================================
        */
        .section-label { font-size: 14px; font-weight: 900; text-transform: uppercase; color: var(--text-dim); margin-bottom: 15px; letter-spacing: 1px; }
        
        .game-card-large {
            background: var(--bg-panel); border-radius: var(--radius-xl); padding: 25px; margin-bottom: 20px;
            border: 1px solid var(--border-light); position: relative;
        }

        /* MINES PRO ENGINE */
        .mines-grid-pro { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin: 20px 0; }
        .m-cell {
            aspect-ratio: 1; background: var(--bg-item); border-radius: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 24px;
            cursor: pointer; transition: var(--transition); border: 1px solid transparent;
        }
        .m-cell.revealed { background: #000; border-color: var(--accent); transform: scale(0.92); }
        .m-cell.gem { color: var(--success); filter: drop-shadow(0 0 10px var(--success)); }
        .m-cell.bomb { color: var(--error); filter: drop-shadow(0 0 10px var(--error)); }

        /* TOWER GAME UI */
        .tower-grid { display: flex; flex-direction: column-reverse; gap: 5px; margin-bottom: 20px; }
        .tower-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; opacity: 0.4; pointer-events: none; transition: 0.3s; }
        .tower-row.active { opacity: 1; pointer-events: auto; }
        .tower-cell { height: 40px; background: var(--bg-item); border-radius: 8px; display: flex; align-items: center; justify-content: center; }

        /* ========================================
           INPUTS & BUTTONS
           ========================================
        */
        .input-mega-wrap {
            background: #000; border: 2px solid var(--border-light); border-radius: 20px;
            padding: 15px 20px; margin-bottom: 15px; transition: var(--transition);
        }
        .input-mega-wrap:focus-within { border-color: var(--accent); box-shadow: 0 0 25px var(--accent-glow); }
        .input-label { color: var(--accent); font-weight: 900; font-size: 18px; margin-bottom: 5px; display: block; }
        .input-mega-wrap input {
            background: transparent; color: #fff; border: none; font-size: 36px; font-weight: 900; width: 100%;
        }

        .action-btn-main {
            background: var(--grad-main); color: #000; border: none; width: 100%;
            padding: 22px; border-radius: 24px; font-size: 20px; font-weight: 900;
            cursor: pointer; box-shadow: 0 12px 35px rgba(0, 210, 255, 0.25); transition: var(--transition);
        }
        .action-btn-main:active { transform: scale(0.96); opacity: 0.9; }
        .action-btn-main:disabled { background: #222; color: #555; box-shadow: none; cursor: not-allowed; }

        /* ========================================
           SOCIAL & CHAT SYSTEM
           ========================================
        */
        .chat-preview {
            background: var(--bg-panel); border-radius: 18px; padding: 15px; margin-top: 20px;
            border: 1px solid var(--border-light); height: 180px; display: flex; flex-direction: column;
        }
        .chat-msg-list { flex: 1; overflow-y: auto; font-size: 13px; color: var(--text-dim); }
        .chat-item { margin-bottom: 8px; animation: fadeIn 0.3s ease; }
        .chat-item b { color: var(--accent); }

        /* ========================================
           NAV BAR V4
           ========================================
        */
        .navbar-pro {
            position: fixed; bottom: 0; left: 0; right: 0; height: 95px;
            background: rgba(11, 13, 15, 0.9); backdrop-filter: blur(20px);
            border-top: 1px solid var(--border-light); display: flex;
            justify-content: space-around; padding: 10px 10px 25px; z-index: 2000;
        }
        .nav-link {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: var(--text-dim); text-decoration: none; font-size: 11px; font-weight: 700; gap: 6px;
        }
        .nav-link.active { color: var(--accent); }
        .nav-icon-box {
            width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
            transition: var(--transition);
        }
        .nav-link.active .nav-icon-box { transform: translateY(-3px); filter: drop-shadow(0 0 8px var(--accent)); }

        /* ========================================
           TOASTS
           ========================================
        */
        #toast-box { position: fixed; top: 90px; left: 50%; transform: translateX(-50%); z-index: 3000; width: 90%; pointer-events: none; }
        .modern-toast {
            background: rgba(20, 22, 25, 0.95); border: 1px solid var(--border-light);
            padding: 18px; border-radius: 20px; margin-bottom: 12px; display: flex; align-items: center; gap: 12px;
            box-shadow: 0 15px 45px rgba(0,0,0,0.6); animation: slideIn 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-40px); } to { opacity: 1; transform: translateY(0); } }

        /* HIDDEN SCREENS */
        .page-screen { display: none; }
        .page-screen.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <div id="toast-box"></div>

    <div id="app-wrapper">
        
        <header class="header-v3">
            <div class="brand-zone">
                <div class="brand-logo">T</div>
                <div class="brand-text">
                    <span class="name">TON BET PRO</span>
                    <span class="status">‚óè ONLINE 4,821</span>
                </div>
            </div>
            <div class="balance-widget">
                <span class="val" id="gui-bal">250.00</span>
                <span style="color: var(--accent); font-weight: 900;">üíé</span>
                <div class="btn-deposit" onclick="faucet()">+</div>
            </div>
        </header>

        <div class="main-content">
            
            <div id="page-home" class="page-screen active">
                
                <div class="pass-banner">
                    <div class="pass-header">
                        <div>
                            <span class="pass-title">Season 1: Genesis</span>
                            <div class="pass-lvl">Level <span id="pass-lvl">1</span></div>
                        </div>
                        <div style="font-size: 10px; font-weight: 800; color: var(--text-dim);">XP: <span id="pass-xp">0</span>/1000</div>
                    </div>
                    <div class="pass-progress-bg">
                        <div class="pass-progress-fill" id="pass-fill"></div>
                    </div>
                </div>

                <div class="section-label">Top Games</div>

                <div class="game-card-large">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h2 style="font-weight: 900; font-size: 22px;">MINES PRO</h2>
                        <div style="background: var(--bg-item); padding: 5px 12px; border-radius: 10px; font-size: 12px; font-weight: 700;">
                            BOMBS: <select id="m-bombs" style="background:none; color:var(--accent); border:none; font-weight:900;">
                                <option value="3">3</option>
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                    </div>

                    <div class="mines-grid-pro" id="m-grid">
                        </div>

                    <div class="input-mega-wrap">
                        <span class="input-label">AMOUNT</span>
                        <input type="number" id="m-bet" value="10.00" inputmode="decimal">
                    </div>

                    <div id="m-btn-area">
                        <button class="action-btn-main" onclick="startMines()">START GAME</button>
                    </div>
                </div>

                <div class="game-card-large">
                    <h2 style="font-weight: 900; font-size: 22px; margin-bottom: 20px;">TOWER RISE</h2>
                    <div class="tower-grid" id="t-grid">
                        </div>
                    <div id="t-btn-area">
                        <button class="action-btn-main" onclick="startTower()">PLAY TOWER</button>
                    </div>
                </div>

                <div class="section-label">Global Chat</div>
                <div class="chat-preview">
                    <div class="chat-msg-list" id="chat-box">
                        <div class="chat-item"><b>ton_whale:</b> Just won 500üíé on Mines!</div>
                        <div class="chat-item"><b>lucky_bob:</b> Tower is insane today.</div>
                    </div>
                </div>
            </div>

            <div id="page-shop" class="page-screen">
                <div class="section-label">Cases Marketplace</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="game-card-large" style="text-align: center; padding: 20px;" onclick="openCase('WOOD', 25)">
                        <span style="font-size: 40px;">üì¶</span>
                        <h3 style="margin: 10px 0 5px;">Wood Case</h3>
                        <span style="color: var(--accent); font-weight: 900;">25.00 üíé</span>
                    </div>
                    <div class="game-card-large" style="text-align: center; padding: 20px;" onclick="openCase('RARE', 100)">
                        <span style="font-size: 40px;">üíé</span>
                        <h3 style="margin: 10px 0 5px;">Rare Box</h3>
                        <span style="color: var(--accent); font-weight: 900;">100.00 üíé</span>
                    </div>
                </div>
                
                <div class="section-label" style="margin-top: 20px;">Crafting Station</div>
                <div class="game-card-large">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 15px;">
                        <div style="width: 60px; height: 60px; background: var(--bg-item); border: 2px dashed var(--accent); border-radius: 15px;"></div>
                        <span style="font-size: 24px; font-weight: 900;">+</span>
                        <div style="width: 60px; height: 60px; background: var(--bg-item); border: 2px dashed var(--accent); border-radius: 15px;"></div>
                    </div>
                    <button class="action-btn-main" style="background: var(--grad-gold); color: #000;">CRAFT ITEM</button>
                </div>
            </div>

            <div id="page-profile" class="page-screen">
                <div class="game-card-large" style="text-align: center;">
                    <div style="width: 80px; height: 80px; background: var(--grad-main); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; color: #000; font-weight: 900;">U</div>
                    <h2 id="prof-name">User_772</h2>
                    <p style="color: var(--text-dim); font-size: 13px;">Status: Legend Member</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
                        <div style="background: var(--bg-item); padding: 15px; border-radius: 15px;">
                            <div style="font-size: 10px; color: var(--text-dim);">TOTAL BETS</div>
                            <div style="font-weight: 900; font-size: 18px;" id="st-bets">0</div>
                        </div>
                        <div style="background: var(--bg-item); padding: 15px; border-radius: 15px;">
                            <div style="font-size: 10px; color: var(--text-dim);">MAX WIN</div>
                            <div style="font-weight: 900; font-size: 18px; color: var(--success);" id="st-max">0.00</div>
                        </div>
                    </div>
                </div>
                
                <div class="section-label">Inventory</div>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;" id="inv-grid">
                    </div>
            </div>

        </div>

        <nav class="navbar-pro">
            <div class="nav-link" onclick="tab('shop', this)">
                <div class="nav-icon-box">üõí</div>
                <span>Market</span>
            </div>
            <div class="nav-link active" onclick="tab('home', this)">
                <div class="nav-icon-box">üéÆ</div>
                <span>Games</span>
            </div>
            <div class="nav-link" onclick="notify('Tasks Soon')">
                <div class="nav-icon-box">üèÜ</div>
                <span>Pass</span>
            </div>
            <div class="nav-link" onclick="tab('profile', this)">
                <div class="nav-icon-box">üë§</div>
                <span>Profile</span>
            </div>
        </nav>

    </div>

    <script>
        /* ========================================
           STATE MANAGEMENT & CORE ENGINE
           ========================================
        */
        let state = JSON.parse(localStorage.getItem('ton_bet_black_v1')) || {
            bal: 500.0,
            xp: 0,
            lvl: 1,
            stats: { bets: 0, maxWin: 0 },
            inv: [],
            p_name: "User_" + Math.floor(Math.random()*9999)
        };

        let activeGame = { type: null, data: {} };

        function save() {
            localStorage.setItem('ton_bet_black_v1', JSON.stringify(state));
            updateUI();
        }

        function updateUI() {
            document.getElementById('gui-bal').innerText = state.bal.toFixed(2);
            document.getElementById('prof-name').innerText = state.p_name;
            document.getElementById('st-bets').innerText = state.stats.bets;
            document.getElementById('st-max').innerText = state.stats.maxWin.toFixed(2);
            
            // Pass UI
            const passLvl = Math.floor(state.xp / 1000) + 1;
            const passXp = state.xp % 1000;
            document.getElementById('pass-lvl').innerText = passLvl;
            document.getElementById('pass-xp').innerText = passXp;
            document.getElementById('pass-fill').style.width = (passXp / 10) + "%";

            // Inv UI
            const grid = document.getElementById('inv-grid');
            grid.innerHTML = '';
            for(let i=0; i<12; i++) {
                const item = state.inv[i];
                grid.innerHTML += `<div style="aspect-ratio:1; background:var(--bg-panel); border:1px solid var(--border-light); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:22px;">${item || ''}</div>`;
            }
        }

        function notify(msg, mode='info') {
            const box = document.getElementById('toast-box');
            const toast = document.createElement('div');
            toast.className = 'modern-toast';
            toast.style.borderLeft = mode === 'win' ? '4px solid var(--success)' : (mode === 'lose' ? '4px solid var(--error)' : '4px solid var(--accent)');
            toast.innerHTML = `<span>${msg}</span>`;
            box.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; setTimeout(() => toast.remove(), 400); }, 3000);
        }

        function tab(id, el) {
            document.querySelectorAll('.page-screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            el.classList.add('active');
        }

        /* ========================================
           MINES PRO LOGIC
           ========================================
        */
        function initMinesUI() {
            const grid = document.getElementById('m-grid');
            grid.innerHTML = '';
            for(let i=0; i<25; i++) {
                const c = document.createElement('div');
                c.className = 'm-cell';
                c.onclick = () => tapMine(i, c);
                grid.appendChild(c);
            }
        }

        function startMines() {
            const bet = parseFloat(document.getElementById('m-bet').value);
            if(state.bal < bet || bet <= 0) return notify('Insufficient Balance', 'lose');

            const count = parseInt(document.getElementById('m-bombs').value);
            state.bal -= bet;
            state.stats.bets++;
            state.xp += Math.floor(bet * 2);
            
            let bombs = [];
            while(bombs.length < count) {
                let r = Math.floor(Math.random()*25);
                if(!bombs.includes(r)) bombs.push(r);
            }

            activeGame = { type: 'mines', bet, bombs, revealed: 0, active: true };
            document.getElementById('m-btn-area').innerHTML = `<button class="action-btn-main" style="background:var(--error); color:#fff;" onclick="cashoutMines()">CASHOUT</button>`;
            initMinesUI();
            save();
        }

        function tapMine(idx, el) {
            if(!activeGame.active || el.classList.contains('revealed')) return;
            el.classList.add('revealed');
            
            if(activeGame.bombs.includes(idx)) {
                el.innerHTML = 'üí£'; el.classList.add('bomb');
                activeGame.active = false;
                notify('Game Over!', 'lose');
                setTimeout(() => resetMines(), 1500);
            } else {
                el.innerHTML = 'üíé'; el.classList.add('gem');
                activeGame.revealed++;
                notify(`Multiplier: x${(1 + activeGame.revealed * 0.25).toFixed(2)}`, 'win');
            }
        }

        function cashoutMines() {
            if(activeGame.revealed === 0) return;
            const mult = 1 + (activeGame.revealed * 0.25);
            const win = activeGame.bet * mult;
            state.bal += win;
            if(win > state.stats.maxWin) state.stats.maxWin = win;
            notify(`Won ${win.toFixed(2)} üíé`, 'win');
            resetMines();
            save();
        }

        function resetMines() {
            activeGame.active = false;
            document.getElementById('m-btn-area').innerHTML = `<button class="action-btn-main" onclick="startMines()">START GAME</button>`;
            initMinesUI();
        }

        /* ========================================
           TOWER RISE LOGIC
           ========================================
        */
        function initTowerUI() {
            const grid = document.getElementById('t-grid');
            grid.innerHTML = '';
            for(let r=0; r<8; r++) {
                const row = document.createElement('div');
                row.className = 'tower-row';
                row.id = `t-row-${r}`;
                for(let c=0; c<3; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'tower-cell';
                    cell.onclick = () => tapTower(r, c);
                    row.appendChild(cell);
                }
                grid.appendChild(row);
            }
        }

        function startTower() {
            const bet = 10; // Fixed for demo
            if(state.bal < bet) return notify('Need 10üíé');
            state.bal -= bet;
            
            let data = [];
            for(let i=0; i<8; i++) data.push(Math.floor(Math.random()*3)); // Bomb index
            
            activeGame = { type: 'tower', level: 0, bombs: data, bet, active: true };
            initTowerUI();
            document.getElementById('t-row-0').classList.add('active');
            document.getElementById('t-btn-area').innerHTML = `<button class="action-btn-main" style="background:var(--error); color:#fff;" onclick="cashoutTower()">CASHOUT</button>`;
            save();
        }

        function tapTower(r, c) {
            if(!activeGame.active || r !== activeGame.level) return;
            const cells = document.getElementById(`t-row-${r}`).children;
            
            if(c === activeGame.bombs[r]) {
                cells[c].innerHTML = 'üí•';
                activeGame.active = false;
                notify('Tower Collapsed!', 'lose');
                setTimeout(() => resetTower(), 1500);
            } else {
                cells[c].innerHTML = '‚úÖ';
                document.getElementById(`t-row-${r}`).classList.remove('active');
                activeGame.level++;
                if(activeGame.level < 8) {
                    document.getElementById(`t-row-${activeGame.level}`).classList.add('active');
                } else {
                    cashoutTower();
                }
            }
        }

        function cashoutTower() {
            const mults = [1.2, 1.8, 2.5, 4.0, 7.0, 15.0, 30.0, 100.0];
            const win = activeGame.bet * mults[activeGame.level - 1];
            state.bal += win;
            notify(`Tower Success! +${win.toFixed(2)}`, 'win');
            resetTower();
            save();
        }

        function resetTower() {
            activeGame.active = false;
            document.getElementById('t-btn-area').innerHTML = `<button class="action-btn-main" onclick="startTower()">PLAY TOWER</button>`;
            initTowerUI();
        }

        /* ========================================
           SIMULATED CHAT ENGINE
           ========================================
        */
        const chatUsers = ['Ton_God', 'Whale_X', 'CryptoNinja', 'DeFi_King', 'MinesMaster'];
        const chatPhrases = ['Just got x5!', 'Tower is hard today...', 'Anyone opening Wood cases?', 'TON to the moon üöÄ', 'EZ WIN'];
        
        setInterval(() => {
            const box = document.getElementById('chat-box');
            const u = chatUsers[Math.floor(Math.random()*chatUsers.length)];
            const p = chatPhrases[Math.floor(Math.random()*chatPhrases.length)];
            const div = document.createElement('div');
            div.className = 'chat-item';
            div.innerHTML = `<b>${u}:</b> ${p}`;
            box.appendChild(div);
            if(box.children.length > 20) box.children[0].remove();
            box.scrollTop = box.scrollHeight;
        }, 5000);

        function faucet() { state.bal += 100; notify('+100üíé Dev Gift'); save(); }

        window.onload = () => {
            updateUI();
            initMinesUI();
            initTowerUI();
        };

    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>TON BET ULTIMATE | BLACK EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           ADVANCED GLOBAL ARCHITECTURE
           ========================================
        */
        :root {
            --bg-deep: #030405;
            --bg-panel: #0b0d0f;
            --bg-item: #14171a;
            --accent: #00d2ff;
            --accent-glow: rgba(0, 210, 255, 0.35);
            --grad-main: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            --grad-gold: linear-gradient(135deg, #ffe000 0%, #799f0c 100%);
            --grad-premium: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%);
            --text-main: #ffffff;
            --text-dim: #707579;
            --success: #00f260;
            --error: #f953c6;
            --border-light: rgba(255, 255, 255, 0.05);
            --radius-xl: 32px;
            --radius-md: 16px;
            --font: 'Inter', sans-serif;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* RESET */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { 
            background: var(--bg-deep); color: var(--text-main); font-family: var(--font);
            height: 100vh; overflow: hidden; user-select: none;
        }

        /* LAYOUT ELEMENTS */
        #app-wrapper { height: 100vh; display: flex; flex-direction: column; position: relative; }
        .main-content { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 120px; z-index: 10; }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 0; }

        /* ========================================
           MODERN HEADER SYSTEM
           ========================================
        */
        .header-v3 {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(3, 4, 5, 0.8); backdrop-filter: blur(25px); border-bottom: 1px solid var(--border-light);
            position: sticky; top: 0; z-index: 1000;
        }
        .brand-zone { display: flex; align-items: center; gap: 12px; }
        .brand-logo { 
            width: 44px; height: 44px; background: var(--grad-main); border-radius: 14px;
            display: flex; align-items: center; justify-content: center; font-weight: 900;
            box-shadow: 0 4px 15px var(--accent-glow); color: #000; font-size: 20px;
        }
        .brand-text .name { font-size: 16px; font-weight: 800; letter-spacing: -0.5px; display: block; }
        .brand-text .status { font-size: 10px; font-weight: 900; color: var(--success); text-transform: uppercase; }

        .balance-widget {
            background: var(--bg-panel); border: 1px solid var(--border-light); border-radius: 20px;
            padding: 4px 4px 4px 16px; display: flex; align-items: center; gap: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        .balance-widget .val { font-size: 18px; font-weight: 900; font-variant-numeric: tabular-nums; }
        .btn-deposit {
            width: 32px; height: 32px; background: var(--bg-item); border-radius: 14px;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
            transition: var(--transition); color: var(--accent);
        }
        .btn-deposit:active { transform: scale(0.9); background: var(--accent); color: #000; }

        /* ========================================
           BATTLE PASS COMPONENT
           ========================================
        */
        .pass-banner {
            background: linear-gradient(90deg, #1a1c1e 0%, #0b0d0f 100%);
            border-radius: var(--radius-md); padding: 15px; margin-bottom: 25px;
            border: 1px solid var(--border-light); position: relative; overflow: hidden;
        }
        .pass-banner::after {
            content: ''; position: absolute; right: -20px; top: -20px;
            width: 100px; height: 100px; background: var(--grad-premium);
            filter: blur(50px); opacity: 0.3;
        }
        .pass-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px; }
        .pass-title { font-size: 12px; font-weight: 900; color: #fcb045; text-transform: uppercase; }
        .pass-lvl { font-size: 14px; font-weight: 800; }
        .pass-progress-bg { width: 100%; height: 6px; background: #222; border-radius: 10px; }
        .pass-progress-fill { width: 45%; height: 100%; background: var(--grad-premium); border-radius: 10px; }

        /* ========================================
           GAMES GRID
           ========================================
        */
        .section-label { font-size: 14px; font-weight: 900; text-transform: uppercase; color: var(--text-dim); margin-bottom: 15px; letter-spacing: 1px; }
        
        .game-card-large {
            background: var(--bg-panel); border-radius: var(--radius-xl); padding: 25px; margin-bottom: 20px;
            border: 1px solid var(--border-light); position: relative;
        }

        /* MINES PRO ENGINE */
        .mines-grid-pro { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin: 20px 0; }
        .m-cell {
            aspect-ratio: 1; background: var(--bg-item); border-radius: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 24px;
            cursor: pointer; transition: var(--transition); border: 1px solid transparent;
        }
        .m-cell.revealed { background: #000; border-color: var(--accent); transform: scale(0.92); }
        .m-cell.gem { color: var(--success); filter: drop-shadow(0 0 10px var(--success)); }
        .m-cell.bomb { color: var(--error); filter: drop-shadow(0 0 10px var(--error)); }

        /* TOWER GAME UI */
        .tower-grid { display: flex; flex-direction: column-reverse; gap: 5px; margin-bottom: 20px; }
        .tower-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; opacity: 0.4; pointer-events: none; transition: 0.3s; }
        .tower-row.active { opacity: 1; pointer-events: auto; }
        .tower-cell { height: 40px; background: var(--bg-item); border-radius: 8px; display: flex; align-items: center; justify-content: center; }

        /* ========================================
           INPUTS & BUTTONS
           ========================================
        */
        .input-mega-wrap {
            background: #000; border: 2px solid var(--border-light); border-radius: 20px;
            padding: 15px 20px; margin-bottom: 15px; transition: var(--transition);
        }
        .input-mega-wrap:focus-within { border-color: var(--accent); box-shadow: 0 0 25px var(--accent-glow); }
        .input-label { color: var(--accent); font-weight: 900; font-size: 18px; margin-bottom: 5px; display: block; }
        .input-mega-wrap input {
            background: transparent; color: #fff; border: none; font-size: 36px; font-weight: 900; width: 100%;
        }

        .action-btn-main {
            background: var(--grad-main); color: #000; border: none; width: 100%;
            padding: 22px; border-radius: 24px; font-size: 20px; font-weight: 900;
            cursor: pointer; box-shadow: 0 12px 35px rgba(0, 210, 255, 0.25); transition: var(--transition);
        }
        .action-btn-main:active { transform: scale(0.96); opacity: 0.9; }
        .action-btn-main:disabled { background: #222; color: #555; box-shadow: none; cursor: not-allowed; }

        /* ========================================
           SOCIAL & CHAT SYSTEM
           ========================================
        */
        .chat-preview {
            background: var(--bg-panel); border-radius: 18px; padding: 15px; margin-top: 20px;
            border: 1px solid var(--border-light); height: 180px; display: flex; flex-direction: column;
        }
        .chat-msg-list { flex: 1; overflow-y: auto; font-size: 13px; color: var(--text-dim); }
        .chat-item { margin-bottom: 8px; animation: fadeIn 0.3s ease; }
        .chat-item b { color: var(--accent); }

        /* ========================================
           NAV BAR V4
           ========================================
        */
        .navbar-pro {
            position: fixed; bottom: 0; left: 0; right: 0; height: 95px;
            background: rgba(11, 13, 15, 0.9); backdrop-filter: blur(20px);
            border-top: 1px solid var(--border-light); display: flex;
            justify-content: space-around; padding: 10px 10px 25px; z-index: 2000;
        }
        .nav-link {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: var(--text-dim); text-decoration: none; font-size: 11px; font-weight: 700; gap: 6px;
        }
        .nav-link.active { color: var(--accent); }
        .nav-icon-box {
            width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
            transition: var(--transition);
        }
        .nav-link.active .nav-icon-box { transform: translateY(-3px); filter: drop-shadow(0 0 8px var(--accent)); }

        /* ========================================
           TOASTS
           ========================================
        */
        #toast-box { position: fixed; top: 90px; left: 50%; transform: translateX(-50%); z-index: 3000; width: 90%; pointer-events: none; }
        .modern-toast {
            background: rgba(20, 22, 25, 0.95); border: 1px solid var(--border-light);
            padding: 18px; border-radius: 20px; margin-bottom: 12px; display: flex; align-items: center; gap: 12px;
            box-shadow: 0 15px 45px rgba(0,0,0,0.6); animation: slideIn 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-40px); } to { opacity: 1; transform: translateY(0); } }

        /* HIDDEN SCREENS */
        .page-screen { display: none; }
        .page-screen.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <div id="toast-box"></div>

    <div id="app-wrapper">
        
        <header class="header-v3">
            <div class="brand-zone">
                <div class="brand-logo">T</div>
                <div class="brand-text">
                    <span class="name">TON BET PRO</span>
                    <span class="status">‚óè ONLINE 4,821</span>
                </div>
            </div>
            <div class="balance-widget">
                <span class="val" id="gui-bal">250.00</span>
                <span style="color: var(--accent); font-weight: 900;">üíé</span>
                <div class="btn-deposit" onclick="faucet()">+</div>
            </div>
        </header>

        <div class="main-content">
            
            <div id="page-home" class="page-screen active">
                
                <div class="pass-banner">
                    <div class="pass-header">
                        <div>
                            <span class="pass-title">Season 1: Genesis</span>
                            <div class="pass-lvl">Level <span id="pass-lvl">1</span></div>
                        </div>
                        <div style="font-size: 10px; font-weight: 800; color: var(--text-dim);">XP: <span id="pass-xp">0</span>/1000</div>
                    </div>
                    <div class="pass-progress-bg">
                        <div class="pass-progress-fill" id="pass-fill"></div>
                    </div>
                </div>

                <div class="section-label">Top Games</div>

                <div class="game-card-large">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h2 style="font-weight: 900; font-size: 22px;">MINES PRO</h2>
                        <div style="background: var(--bg-item); padding: 5px 12px; border-radius: 10px; font-size: 12px; font-weight: 700;">
                            BOMBS: <select id="m-bombs" style="background:none; color:var(--accent); border:none; font-weight:900;">
                                <option value="3">3</option>
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                    </div>

                    <div class="mines-grid-pro" id="m-grid">
                        </div>

                    <div class="input-mega-wrap">
                        <span class="input-label">AMOUNT</span>
                        <input type="number" id="m-bet" value="10.00" inputmode="decimal">
                    </div>

                    <div id="m-btn-area">
                        <button class="action-btn-main" onclick="startMines()">START GAME</button>
                    </div>
                </div>

                <div class="game-card-large">
                    <h2 style="font-weight: 900; font-size: 22px; margin-bottom: 20px;">TOWER RISE</h2>
                    <div class="tower-grid" id="t-grid">
                        </div>
                    <div id="t-btn-area">
                        <button class="action-btn-main" onclick="startTower()">PLAY TOWER</button>
                    </div>
                </div>

                <div class="section-label">Global Chat</div>
                <div class="chat-preview">
                    <div class="chat-msg-list" id="chat-box">
                        <div class="chat-item"><b>ton_whale:</b> Just won 500üíé on Mines!</div>
                        <div class="chat-item"><b>lucky_bob:</b> Tower is insane today.</div>
                    </div>
                </div>
            </div>

            <div id="page-shop" class="page-screen">
                <div class="section-label">Cases Marketplace</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="game-card-large" style="text-align: center; padding: 20px;" onclick="openCase('WOOD', 25)">
                        <span style="font-size: 40px;">üì¶</span>
                        <h3 style="margin: 10px 0 5px;">Wood Case</h3>
                        <span style="color: var(--accent); font-weight: 900;">25.00 üíé</span>
                    </div>
                    <div class="game-card-large" style="text-align: center; padding: 20px;" onclick="openCase('RARE', 100)">
                        <span style="font-size: 40px;">üíé</span>
                        <h3 style="margin: 10px 0 5px;">Rare Box</h3>
                        <span style="color: var(--accent); font-weight: 900;">100.00 üíé</span>
                    </div>
                </div>
                
                <div class="section-label" style="margin-top: 20px;">Crafting Station</div>
                <div class="game-card-large">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 15px;">
                        <div style="width: 60px; height: 60px; background: var(--bg-item); border: 2px dashed var(--accent); border-radius: 15px;"></div>
                        <span style="font-size: 24px; font-weight: 900;">+</span>
                        <div style="width: 60px; height: 60px; background: var(--bg-item); border: 2px dashed var(--accent); border-radius: 15px;"></div>
                    </div>
                    <button class="action-btn-main" style="background: var(--grad-gold); color: #000;">CRAFT ITEM</button>
                </div>
            </div>

            <div id="page-profile" class="page-screen">
                <div class="game-card-large" style="text-align: center;">
                    <div style="width: 80px; height: 80px; background: var(--grad-main); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; color: #000; font-weight: 900;">U</div>
                    <h2 id="prof-name">User_772</h2>
                    <p style="color: var(--text-dim); font-size: 13px;">Status: Legend Member</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
                        <div style="background: var(--bg-item); padding: 15px; border-radius: 15px;">
                            <div style="font-size: 10px; color: var(--text-dim);">TOTAL BETS</div>
                            <div style="font-weight: 900; font-size: 18px;" id="st-bets">0</div>
                        </div>
                        <div style="background: var(--bg-item); padding: 15px; border-radius: 15px;">
                            <div style="font-size: 10px; color: var(--text-dim);">MAX WIN</div>
                            <div style="font-weight: 900; font-size: 18px; color: var(--success);" id="st-max">0.00</div>
                        </div>
                    </div>
                </div>
                
                <div class="section-label">Inventory</div>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;" id="inv-grid">
                    </div>
            </div>

        </div>

        <nav class="navbar-pro">
            <div class="nav-link" onclick="tab('shop', this)">
                <div class="nav-icon-box">üõí</div>
                <span>Market</span>
            </div>
            <div class="nav-link active" onclick="tab('home', this)">
                <div class="nav-icon-box">üéÆ</div>
                <span>Games</span>
            </div>
            <div class="nav-link" onclick="notify('Tasks Soon')">
                <div class="nav-icon-box">üèÜ</div>
                <span>Pass</span>
            </div>
            <div class="nav-link" onclick="tab('profile', this)">
                <div class="nav-icon-box">üë§</div>
                <span>Profile</span>
            </div>
        </nav>

    </div>

    <script>
        /* ========================================
           STATE MANAGEMENT & CORE ENGINE
           ========================================
        */
        let state = JSON.parse(localStorage.getItem('ton_bet_black_v1')) || {
            bal: 500.0,
            xp: 0,
            lvl: 1,
            stats: { bets: 0, maxWin: 0 },
            inv: [],
            p_name: "User_" + Math.floor(Math.random()*9999)
        };

        let activeGame = { type: null, data: {} };

        function save() {
            localStorage.setItem('ton_bet_black_v1', JSON.stringify(state));
            updateUI();
        }

        function updateUI() {
            document.getElementById('gui-bal').innerText = state.bal.toFixed(2);
            document.getElementById('prof-name').innerText = state.p_name;
            document.getElementById('st-bets').innerText = state.stats.bets;
            document.getElementById('st-max').innerText = state.stats.maxWin.toFixed(2);
            
            // Pass UI
            const passLvl = Math.floor(state.xp / 1000) + 1;
            const passXp = state.xp % 1000;
            document.getElementById('pass-lvl').innerText = passLvl;
            document.getElementById('pass-xp').innerText = passXp;
            document.getElementById('pass-fill').style.width = (passXp / 10) + "%";

            // Inv UI
            const grid = document.getElementById('inv-grid');
            grid.innerHTML = '';
            for(let i=0; i<12; i++) {
                const item = state.inv[i];
                grid.innerHTML += `<div style="aspect-ratio:1; background:var(--bg-panel); border:1px solid var(--border-light); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:22px;">${item || ''}</div>`;
            }
        }

        function notify(msg, mode='info') {
            const box = document.getElementById('toast-box');
            const toast = document.createElement('div');
            toast.className = 'modern-toast';
            toast.style.borderLeft = mode === 'win' ? '4px solid var(--success)' : (mode === 'lose' ? '4px solid var(--error)' : '4px solid var(--accent)');
            toast.innerHTML = `<span>${msg}</span>`;
            box.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; setTimeout(() => toast.remove(), 400); }, 3000);
        }

        function tab(id, el) {
            document.querySelectorAll('.page-screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            el.classList.add('active');
        }

        /* ========================================
           MINES PRO LOGIC
           ========================================
        */
        function initMinesUI() {
            const grid = document.getElementById('m-grid');
            grid.innerHTML = '';
            for(let i=0; i<25; i++) {
                const c = document.createElement('div');
                c.className = 'm-cell';
                c.onclick = () => tapMine(i, c);
                grid.appendChild(c);
            }
        }

        function startMines() {
            const bet = parseFloat(document.getElementById('m-bet').value);
            if(state.bal < bet || bet <= 0) return notify('Insufficient Balance', 'lose');

            const count = parseInt(document.getElementById('m-bombs').value);
            state.bal -= bet;
            state.stats.bets++;
            state.xp += Math.floor(bet * 2);
            
            let bombs = [];
            while(bombs.length < count) {
                let r = Math.floor(Math.random()*25);
                if(!bombs.includes(r)) bombs.push(r);
            }

            activeGame = { type: 'mines', bet, bombs, revealed: 0, active: true };
            document.getElementById('m-btn-area').innerHTML = `<button class="action-btn-main" style="background:var(--error); color:#fff;" onclick="cashoutMines()">CASHOUT</button>`;
            initMinesUI();
            save();
        }

        function tapMine(idx, el) {
            if(!activeGame.active || el.classList.contains('revealed')) return;
            el.classList.add('revealed');
            
            if(activeGame.bombs.includes(idx)) {
                el.innerHTML = 'üí£'; el.classList.add('bomb');
                activeGame.active = false;
                notify('Game Over!', 'lose');
                setTimeout(() => resetMines(), 1500);
            } else {
                el.innerHTML = 'üíé'; el.classList.add('gem');
                activeGame.revealed++;
                notify(`Multiplier: x${(1 + activeGame.revealed * 0.25).toFixed(2)}`, 'win');
            }
        }

        function cashoutMines() {
            if(activeGame.revealed === 0) return;
            const mult = 1 + (activeGame.revealed * 0.25);
            const win = activeGame.bet * mult;
            state.bal += win;
            if(win > state.stats.maxWin) state.stats.maxWin = win;
            notify(`Won ${win.toFixed(2)} üíé`, 'win');
            resetMines();
            save();
        }

        function resetMines() {
            activeGame.active = false;
            document.getElementById('m-btn-area').innerHTML = `<button class="action-btn-main" onclick="startMines()">START GAME</button>`;
            initMinesUI();
        }

        /* ========================================
           TOWER RISE LOGIC
           ========================================
        */
        function initTowerUI() {
            const grid = document.getElementById('t-grid');
            grid.innerHTML = '';
            for(let r=0; r<8; r++) {
                const row = document.createElement('div');
                row.className = 'tower-row';
                row.id = `t-row-${r}`;
                for(let c=0; c<3; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'tower-cell';
                    cell.onclick = () => tapTower(r, c);
                    row.appendChild(cell);
                }
                grid.appendChild(row);
            }
        }

        function startTower() {
            const bet = 10; // Fixed for demo
            if(state.bal < bet) return notify('Need 10üíé');
            state.bal -= bet;
            
            let data = [];
            for(let i=0; i<8; i++) data.push(Math.floor(Math.random()*3)); // Bomb index
            
            activeGame = { type: 'tower', level: 0, bombs: data, bet, active: true };
            initTowerUI();
            document.getElementById('t-row-0').classList.add('active');
            document.getElementById('t-btn-area').innerHTML = `<button class="action-btn-main" style="background:var(--error); color:#fff;" onclick="cashoutTower()">CASHOUT</button>`;
            save();
        }

        function tapTower(r, c) {
            if(!activeGame.active || r !== activeGame.level) return;
            const cells = document.getElementById(`t-row-${r}`).children;
            
            if(c === activeGame.bombs[r]) {
                cells[c].innerHTML = 'üí•';
                activeGame.active = false;
                notify('Tower Collapsed!', 'lose');
                setTimeout(() => resetTower(), 1500);
            } else {
                cells[c].innerHTML = '‚úÖ';
                document.getElementById(`t-row-${r}`).classList.remove('active');
                activeGame.level++;
                if(activeGame.level < 8) {
                    document.getElementById(`t-row-${activeGame.level}`).classList.add('active');
                } else {
                    cashoutTower();
                }
            }
        }

        function cashoutTower() {
            const mults = [1.2, 1.8, 2.5, 4.0, 7.0, 15.0, 30.0, 100.0];
            const win = activeGame.bet * mults[activeGame.level - 1];
            state.bal += win;
            notify(`Tower Success! +${win.toFixed(2)}`, 'win');
            resetTower();
            save();
        }

        function resetTower() {
            activeGame.active = false;
            document.getElementById('t-btn-area').innerHTML = `<button class="action-btn-main" onclick="startTower()">PLAY TOWER</button>`;
            initTowerUI();
        }

        /* ========================================
           SIMULATED CHAT ENGINE
           ========================================
        */
        const chatUsers = ['Ton_God', 'Whale_X', 'CryptoNinja', 'DeFi_King', 'MinesMaster'];
        const chatPhrases = ['Just got x5!', 'Tower is hard today...', 'Anyone opening Wood cases?', 'TON to the moon üöÄ', 'EZ WIN'];
        
        setInterval(() => {
            const box = document.getElementById('chat-box');
            const u = chatUsers[Math.floor(Math.random()*chatUsers.length)];
            const p = chatPhrases[Math.floor(Math.random()*chatPhrases.length)];
            const div = document.createElement('div');
            div.className = 'chat-item';
            div.innerHTML = `<b>${u}:</b> ${p}`;
            box.appendChild(div);
            if(box.children.length > 20) box.children[0].remove();
            box.scrollTop = box.scrollHeight;
        }, 5000);

        function faucet() { state.bal += 100; notify('+100üíé Dev Gift'); save(); }

        window.onload = () => {
            updateUI();
            initMinesUI();
            initTowerUI();
        };

    </script>
</body>
</html>

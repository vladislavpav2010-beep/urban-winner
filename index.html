<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crash Pro 1:1 Edition</title>
    <style>
        :root { --bg: #0b0e11; --card: #161a1e; --blue: #0098ea; --green: #0ecb81; --gold: #f3ba2f; --danger: #f6465d; --text-sec: #9299a6; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; margin: 0; padding: 0; overflow: hidden; }

        /* HEADER */
        .top-bar { display: flex; justify-content: space-between; padding: 12px 16px; align-items: center; z-index: 100; position: relative; }
        .online-count { display: flex; align-items: center; gap: 6px; font-size: 14px; font-weight: 600; }
        .online-dot { width: 8px; height: 8px; background: var(--green); border-radius: 50%; box-shadow: 0 0 8px var(--green); }
        .wallet { background: #1e2329; padding: 6px 14px; border-radius: 20px; display: flex; align-items: center; gap: 8px; font-weight: bold; }

        /* GAME ZONE */
        .stage { position: relative; height: 300px; width: 100%; overflow: hidden; background: radial-gradient(circle at 20% 80%, #111a24 0%, #0b0e11 100%); }
        .grid { position: absolute; inset: -100px; background-image: 
            linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px), 
            linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 50px 50px; transform: rotate(-5deg); z-index: 1; }
        
        #mult { position: absolute; width: 100%; text-align: center; top: 35%; font-size: 72px; font-weight: 900; z-index: 10; text-shadow: 0 0 30px rgba(0,0,0,0.5); transition: color 0.2s; }
        .rocket-wrap { position: absolute; bottom: 40px; left: 40px; z-index: 20; will-change: transform; transition: transform 0.1s linear; }
        .rocket-img { width: 90px; filter: drop-shadow(0 0 15px rgba(0,152,234,0.4)); }
        
        canvas#trail { position: absolute; inset: 0; z-index: 5; }

        /* CONTROLS */
        .actions { padding: 16px; position: relative; z-index: 100; background: var(--bg); }
        .bet-btn { width: 100%; height: 60px; border-radius: 14px; border: none; background: var(--blue); color: white; font-size: 19px; font-weight: 800; cursor: pointer; transition: 0.1s; box-shadow: 0 4px 15px rgba(0,152,234,0.3); }
        .bet-btn:active { transform: scale(0.98); }

        /* LIST */
        .list-header { padding: 0 16px 8px; color: var(--text-sec); font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .bets-area { padding: 0 16px 20px; display: flex; flex-direction: column; gap: 10px; height: calc(100vh - 460px); overflow-y: auto; }
        .bet-card { background: var(--card); padding: 14px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(255,255,255,0.03); }
        .u-info { display: flex; align-items: center; gap: 12px; }
        .u-av { width: 38px; height: 38px; border-radius: 10px; background: #2b3139; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 1px solid rgba(255,255,255,0.1); overflow: hidden; }
        .u-name { font-size: 15px; font-weight: 600; margin-bottom: 2px; }
        .u-sub { font-size: 12px; color: var(--text-sec); }

        .u-stat { text-align: right; font-weight: 800; font-size: 17px; }
        .t-ton { color: var(--green); }
        .t-gift { color: var(--gold); display: flex; align-items: center; gap: 6px; animation: giftPop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        @keyframes giftPop { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="online-count"><div class="online-dot"></div> 124</div>
    <div class="wallet">üíé 0.12</div>
</div>

<div class="stage">
    <div class="grid" id="grid"></div>
    <canvas id="trail"></canvas>
    <div id="mult">x1.00</div>
    <div class="rocket-wrap" id="rocketBox">
        <img src="https://i.ibb.co/LST6Ph6/rocket.png" class="rocket-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1356/1356479.png'">
    </div>
</div>

<div class="actions">
    <button class="bet-btn" id="go" onclick="mainAction()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
</div>

<div class="list-header">–ñ–∏–≤—ã–µ —Å—Ç–∞–≤–∫–∏</div>
<div class="bets-area" id="players"></div>

<script>
    // –ü—Ä–µ–¥–º–µ—Ç—ã (61 –ø–æ–¥–∞—Ä–æ–∫ - —Å–æ–∫—Ä–∞—â–µ–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
    const db = [
        {n: "Lol Pop", p: 3.23, i: "üç≠"}, {n: "Snoop Cigar", p: 10.21, i: "üö¨"},
        {n: "Snowman", p: 15.5, i: "‚òÉÔ∏è"}, {n: "Swiss Watch", p: 43.07, i: "‚åö"},
        {n: "Diamond Ring", p: 605, i: "üíç"}, {n: "Heart Locket", p: 1474, i: "üíù"}
    ];

    // –ò–º–µ–Ω–∞ –∏ –¥–∞–Ω–Ω—ã–µ –±–æ—Ç–æ–≤ –∏–∑ –≤–∏–¥–µ–æ
    const users = [
        {n: "Forever Young", b: 1.68, av: "FY"},
        {n: "–°–∞–Ω—è", b: 0.49, av: "–°"},
        {n: "Pudzhik #sash", b: 0.37, av: "P"},
        {n: "–û–±–º–µ–Ω–∏–∫ —Å $", b: 0.14, av: "O"}
    ];

    let x = 1.0, active = false, timer, canvas, ctx, crash;

    function init() {
        canvas = document.getElementById('trail');
        canvas.width = window.innerWidth;
        canvas.height = 300;
        ctx = canvas.getContext('2d');
        renderBets();
    }

    function renderBets() {
        const wrap = document.getElementById('players');
        wrap.innerHTML = users.map((u, i) => `
            <div class="bet-card">
                <div class="u-info">
                    <div class="u-av">${u.av}</div>
                    <div><div class="u-name">${u.n}</div><div class="u-sub">üíé ${u.b} x1.00</div></div>
                </div>
                <div class="u-stat t-ton" id="s-${i}">${u.b.toFixed(2)}</div>
            </div>
        `).join('');
    }

    function mainAction() {
        if (!active) start(); else stop();
    }

    function start() {
        active = true; x = 1.0;
        crash = (Math.random() * 5 + 1.2).toFixed(2);
        document.getElementById('go').innerText = "–ó–∞–±—Ä–∞—Ç—å";
        document.getElementById('mult').style.color = "white";
        renderBets();

        timer = setInterval(() => {
            x += x * 0.015;
            document.getElementById('mult').innerText = `x${x.toFixed(2)}`;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
            const r = document.getElementById('rocketBox');
            const g = document.getElementById('grid');
            let dx = Math.min((x-1)*60, 220);
            let dy = Math.min((x-1)*45, 180);
            r.style.transform = `translate(${dx}px, -${dy}px)`;
            g.style.transform = `translate(${-dx%50}px, ${dy%50}px) rotate(-5deg)`;

            drawTrail(dx + 40, 260 - dy);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            users.forEach((u, i) => {
                let currentWin = u.b * x;
                let gift = [...db].reverse().find(it => currentWin >= it.p);
                const el = document.getElementById(`s-${i}`);
                if (gift) {
                    el.className = "u-stat t-gift";
                    el.innerHTML = `<span>${gift.i}</span> <span>${gift.n}</span>`;
                } else {
                    el.className = "u-stat t-ton";
                    el.innerText = currentWin.toFixed(2);
                }
            });

            if (x >= crash) end(true);
        }, 70);
    }

    function drawTrail(targetX, targetY) {
        ctx.clearRect(0,0, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.strokeStyle = "#0ecb81";
        ctx.lineWidth = 5;
        ctx.lineCap = "round";
        ctx.moveTo(40, 260);
        ctx.quadraticCurveTo(targetX/2 + 20, 260, targetX, targetY);
        ctx.stroke();
    }

    function stop() { end(false); alert("–í—ã–∏–≥—Ä—ã—à –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω!"); }

    function end(isCrash) {
        clearInterval(timer);
        active = false;
        if (isCrash) {
            document.getElementById('mult').innerText = x.toFixed(2);
            document.getElementById('mult').style.color = "#f6465d";
        }
        document.getElementById('go').innerText = "–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É";
    }

    window.onload = init;
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TonCrash Pro</title>
    <style>
        :root {
            --bg: #0b0e11;
            --panel: #1e2329;
            --accent: #fcd535;
            --green: #0ecb81;
            --red: #f6465d;
            --text: #eaeafe;
            --gray: #848e9c;
        }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* –®–∞–ø–∫–∞ */
        header {
            padding: 12px 15px;
            background: var(--panel);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
        }
        .balance-box { color: var(--green); font-weight: bold; font-size: 16px; }
        .header-right { display: flex; gap: 10px; }
        .btn-ui { background: #2b3139; color: white; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; }

        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .game-screen {
            height: 35vh;
            position: relative;
            background: radial-gradient(circle at bottom left, #1e2329, #0b0e11);
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 2px solid #2b3139;
        }
        #multiplier { font-size: 60px; font-weight: 900; z-index: 10; }
        #rocket { position: absolute; bottom: 20px; left: 20px; font-size: 45px; z-index: 5; }
        #gift-sky { position: absolute; display: none; font-size: 30px; cursor: pointer; z-index: 20; animation: bounce 1s infinite; }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* –ü–∞–Ω–µ–ª—å —Å—Ç–∞–≤–æ–∫ */
        .controls { padding: 20px; flex: 1; display: flex; flex-direction: column; gap: 15px; }
        .input-box { background: var(--panel); padding: 15px; border-radius: 12px; display: flex; justify-content: space-between; }
        .input-box input { background: transparent; border: none; color: white; font-size: 20px; width: 60%; outline: none; }
        .main-btn { 
            background: var(--green); color: black; border: none; padding: 18px; 
            border-radius: 12px; font-size: 20px; font-weight: bold; cursor: pointer;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ü—Ä–æ—Ñ–∏–ª—è */
        #profile-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100; display: none;
            flex-direction: column; padding: 20px; box-sizing: border-box;
        }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .wallet-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .btn-wallet { padding: 15px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; }
        .deposit { background: var(--green); color: black; }
        .withdraw { background: #2b3139; color: white; }
        
        .inventory-list { flex: 1; overflow-y: auto; background: var(--panel); border-radius: 10px; padding: 10px; }
        .inv-item { 
            display: flex; justify-content: space-between; align-items: center; 
            background: #2b3139; padding: 10px; border-radius: 8px; margin-bottom: 8px;
        }

        .close-modal { font-size: 30px; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <div class="balance-box">üíé <span id="user-balance">100.00</span> TON</div>
    <div class="header-right">
        <button class="btn-ui" onclick="toggleLang()" id="lang-btn">EN</button>
        <button class="btn-ui" onclick="toggleProfile()">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    </div>
</header>

<div class="game-screen">
    <div id="multiplier">x1.00</div>
    <div id="rocket">üöÄ</div>
    <div id="gift-sky" onclick="collectGift()">üéÅ</div>
</div>

<div class="controls">
    <div class="input-box">
        <input type="number" id="bet-amount" value="1.00" step="0.5">
        <span style="color: var(--gray)">TON</span>
    </div>
    <button class="main-btn" id="action-btn" onclick="gameAction()">–°–¢–ê–†–¢</button>
</div>

<div id="profile-modal">
    <div class="modal-header">
        <h2 id="txt-profile">–ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
        <span class="close-modal" onclick="toggleProfile()">&times;</span>
    </div>

    <div class="wallet-actions">
        <button class="btn-wallet deposit" onclick="alert('Deposit system soon')">–ü–û–ü–û–õ–ù–ò–¢–¨</button>
        <button class="btn-wallet withdraw" onclick="alert('Withdraw system soon')">–í–´–í–ï–°–¢–ò</button>
    </div>

    <h3 id="txt-inv">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
    <div class="inventory-list" id="inv-container">
        </div>
</div>

<script>
    let balance = 100.00;
    let multiplier = 1.00;
    let isFlying = false;
    let lang = 'RU';
    let inventory = [];
    let interval;

    const ui = {
        RU: { start: "–°–¢–ê–†–¢", take: "–ó–ê–ë–†–ê–¢–¨", profile: "–ü—Ä–æ—Ñ–∏–ª—å", inv: "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å", sell: "–ü—Ä–æ–¥–∞—Ç—å", boom: "–ë–ê–•!" },
        EN: { start: "START", take: "CASH OUT", profile: "Profile", inv: "Inventory", sell: "Sell", boom: "BOOM!" }
    };

    function toggleLang() {
        lang = lang === 'RU' ? 'EN' : 'RU';
        document.getElementById('lang-btn').innerText = lang === 'RU' ? 'EN' : 'RU';
        refreshUI();
    }

    function refreshUI() {
        if(!isFlying) document.getElementById('action-btn').innerText = ui[lang].start;
        document.getElementById('txt-profile').innerText = ui[lang].profile;
        document.getElementById('txt-inv').innerText = ui[lang].inv;
        renderInventory();
    }

    function toggleProfile() {
        const modal = document.getElementById('profile-modal');
        modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        renderInventory();
    }

    function updateBalance() {
        document.getElementById('user-balance').innerText = balance.toFixed(2);
    }

    function gameAction() {
        if (!isFlying) startRound();
        else cashOut();
    }

    function startRound() {
        let bet = parseFloat(document.getElementById('bet-amount').value);
        if (balance < bet) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ TON");

        balance -= bet;
        updateBalance();
        isFlying = true;
        multiplier = 1.00;

        const btn = document.getElementById('action-btn');
        btn.innerText = ui[lang].take;
        btn.style.background = "var(--accent)";

        let crashAt = (Math.random() * 4 + 1.2).toFixed(2);
        let giftAt = (Math.random() * (crashAt - 1.1) + 1.1).toFixed(2);
        let giftSpawned = false;

        interval = setInterval(() => {
            multiplier += 0.01;
            document.getElementById('multiplier').innerText = `x${multiplier.toFixed(2)}`;
            
            let move = (multiplier - 1) * 45;
            document.getElementById('rocket').style.transform = `translate(${move}px, -${move}px) rotate(-45deg)`;

            if (multiplier >= giftAt && !giftSpawned) {
                spawnGift();
                giftSpawned = true;
            }

            if (multiplier >= crashAt) {
                crash();
            }
        }, 60);
    }

    function spawnGift() {
        const gift = document.getElementById('gift-sky');
        gift.style.display = "block";
        gift.style.left = (Math.random() * 60 + 20) + "%";
        gift.style.top = (Math.random() * 30 + 10) + "%";
    }

    function collectGift() {
        inventory.push({ name: "–ö–µ–π—Å TON", price: 2.6 });
        document.getElementById('gift-sky').style.display = "none";
    }

    function cashOut() {
        let bet = parseFloat(document.getElementById('bet-amount').value);
        balance += bet * multiplier;
        stopGame(false);
    }

    function crash() {
        document.getElementById('multiplier').innerText = ui[lang].boom;
        document.getElementById('multiplier').style.color = "var(--red)";
        document.getElementById('rocket').innerHTML = "üí•";
        stopGame(true);
    }

    function stopGame(isBoom) {
        clearInterval(interval);
        isFlying = false;
        document.getElementById('gift-sky').style.display = "none";
        setTimeout(() => {
            document.getElementById('multiplier').style.color = "white";
            document.getElementById('multiplier').innerText = "x1.00";
            document.getElementById('rocket').innerHTML = "üöÄ";
            document.getElementById('rocket').style.transform = "translate(0,0) rotate(-45deg)";
            document.getElementById('action-btn').style.background = "var(--green)";
            updateBalance();
            refreshUI();
        }, 2000);
    }

    function renderInventory() {
        const cont = document.getElementById('inv-container');
        cont.innerHTML = "";
        inventory.forEach((item, i) => {
            cont.innerHTML += `
                <div class="inv-item">
                    <span>üéÅ ${item.name} (2.6 TON)</span>
                    <button class="btn-ui" onclick="sellItem(${i})" style="color:var(--green)">${ui[lang].sell}</button>
                </div>`;
        });
    }

    function sellItem(i) {
        balance += inventory[i].price;
        inventory.splice(i, 1);
        updateBalance();
        renderInventory();
    }

    updateBalance();
</script>
</body>
</html>


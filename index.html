<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crash Gifts Style</title>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; margin: 0; padding: 10px; }
        .game-screen { height: 200px; background: radial-gradient(circle, #1a1f26, #0b0e11); border-radius: 15px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        #multiplier { font-size: 48px; font-weight: bold; z-index: 2; }
        
        /* –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞–≤–æ–∫ –∫–∞–∫ –≤ –≤–∏–¥–µ–æ */
        .bets-table { margin-top: 20px; background: #161a1e; border-radius: 10px; overflow: hidden; }
        .bet-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px; border-bottom: 1px solid #2b3139; transition: 0.3s; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 30px; height: 30px; background: #3e4651; border-radius: 50%; }
        
        /* –°–æ—Å—Ç–æ—è–Ω–∏–µ "–ü–æ–¥–∞—Ä–æ–∫ –≤—ã–ø–∞–ª" */
        .gift-status { display: flex; align-items: center; gap: 5px; color: #f3ba2f; font-weight: bold; }
        .gift-icon { font-size: 20px; filter: drop-shadow(0 0 5px #f3ba2f); }
        
        .btn-bet { width: 100%; padding: 15px; margin: 10px 0; border-radius: 10px; border: none; background: #0098ea; color: white; font-size: 18px; font-weight: bold; cursor: pointer; }
        .win-amount { color: #0ecb81; font-weight: bold; }
    </style>
</head>
<body>

<div class="game-screen">
    <div id="multiplier">x1.00</div>
</div>

<button class="btn-bet" id="actionBtn" onclick="handleAction()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>

<div class="bets-table" id="betsList">
    </div>

<script>
    // –ë–∞–∑–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
    const gifts = [
        {name: "Lol Pop", price: 3.23, icon: "üç≠"},
        {name: "Snoop Cigar", price: 10.21, icon: "üö¨"},
        {name: "Snowman", price: 15.50, icon: "‚òÉÔ∏è"},
        {name: "Swiss Watch", price: 43.07, icon: "‚åö"}
    ];

    let x = 1.0, isPlay = false, loop, myBet = 0, currentGift = null;

    function handleAction() {
        if (!isPlay) {
            myBet = 10; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∞
            start();
        } else {
            cashout();
        }
    }

    function start() {
        isPlay = true; x = 1.0; currentGift = null;
        document.getElementById('betsList').innerHTML = renderRow(myBet, 1.0);
        document.getElementById('actionBtn').innerText = "–ó–∞–±—Ä–∞—Ç—å";
        
        let crash = (Math.random() * 5 + 1.1).toFixed(2);

        loop = setInterval(() => {
            x += 0.01;
            document.getElementById('multiplier').innerText = `x${x.toFixed(2)}`;
            
            let potentialWin = myBet * x;
            
            // –ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–æ–¥–∞—Ä–æ–∫ –ø–æ —Ü–µ–Ω–µ
            let found = gifts.find(g => potentialWin >= g.p);
            
            if (found && (!currentGift || found.price > currentGift.price)) {
                currentGift = found;
                updateRowWithGift(currentGift);
            } else if (!currentGift) {
                updateRowPrice(potentialWin);
            }

            if (x >= crash) end(true);
        }, 80);
    }

    function renderRow(bet, mult) {
        return `
            <div class="bet-row" id="myRow">
                <div class="user-info">
                    <div class="avatar"></div>
                    <span>–í—ã (–°—Ç–∞–≤–∫–∞: ${bet} TON)</span>
                </div>
                <div id="statusVal" class="win-amount">${(bet * mult).toFixed(2)} TON</div>
            </div>
        `;
    }

    function updateRowPrice(val) {
        const el = document.getElementById('statusVal');
        if (el) el.innerText = val.toFixed(2) + " TON";
    }

    function updateRowWithGift(gift) {
        const el = document.getElementById('statusVal');
        if (el) {
            el.className = "gift-status";
            el.innerHTML = `<span class="gift-icon">${gift.icon}</span> <span>${gift.name}</span>`;
        }
    }

    function cashout() {
        if (currentGift) {
            alert("–í—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ–¥–∞—Ä–æ–∫: " + currentGift.name);
        } else {
            alert("–í—ã –∑–∞–±—Ä–∞–ª–∏: " + (myBet * x).toFixed(2) + " TON");
        }
        end(false);
    }

    function end(isCrash) {
        clearInterval(loop);
        isPlay = false;
        document.getElementById('multiplier').innerText = isCrash ? "–ö–†–ê–®!" : "x" + x.toFixed(2);
        document.getElementById('actionBtn').innerText = "–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É";
    }
</script>
</body>
</html>


    


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crash Pro Full Logic</title>
    <style>
        :root {
            --bg: #07080a; --card: #121418; --blue: #0098ea;
            --green: #0ecb81; --gold: #f3ba2f; --red: #f6465d;
            --text-sec: #707a8a;
        }
        body { background: var(--bg); color: white; font-family: -apple-system, sans-serif; margin: 0; overflow: hidden; }
        
        /* –í–∏–¥–∂–µ—Ç –∏–≥—Ä—ã */
        .game-box { position: relative; height: 300px; width: 100%; background: radial-gradient(circle at 30% 70%, #151e29 0%, #07080a 100%); overflow: hidden; }
        #mult { position: absolute; width: 100%; text-align: center; top: 35%; font-size: 70px; font-weight: 900; z-index: 5; }
        #rocket { position: absolute; bottom: 50px; left: 50px; z-index: 10; transition: transform 0.1s linear; }
        
        /* –ö–Ω–æ–ø–∫–∞ –∏ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .ui { padding: 15px; background: var(--bg); }
        .btn { width: 100%; height: 60px; border-radius: 12px; border: none; background: var(--blue); color: white; font-size: 18px; font-weight: 800; cursor: pointer; }
        .btn:disabled { background: #1e2329; color: var(--text-sec); }
        #toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px); background: #1e2329; padding: 12px 20px; border-radius: 12px; border: 1px solid var(--green); color: var(--green); transition: 0.4s; z-index: 100; font-weight: bold; }
        #toast.show { transform: translateX(-50%) translateY(0); }

        /* –°–ü–ò–°–û–ö –°–¢–ê–í–û–ö */
        .bets-label { padding: 10px 20px; color: var(--text-sec); font-size: 11px; font-weight: 800; text-transform: uppercase; }
        .bets-list { padding: 0 15px; display: flex; flex-direction: column; gap: 8px; height: calc(100vh - 450px); overflow-y: auto; }
        .bet-item { background: var(--card); padding: 12px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(255,255,255,0.02); }
        .u-info { display: flex; align-items: center; gap: 10px; }
        .u-av { width: 36px; height: 36px; border-radius: 10px; background: #2b3139; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 13px; }
        .u-n { font-size: 14px; font-weight: 600; }
        .u-s { font-size: 11px; color: var(--text-sec); }
        .u-v { font-weight: 800; font-size: 16px; text-align: right; }
        .win-ton { color: var(--green); }
        .win-gift { color: var(--gold); animation: pop 0.3s ease; }
        @keyframes pop { from { transform: scale(0.8); } to { transform: scale(1); } }
        canvas { position: absolute; inset: 0; }
    </style>
</head>
<body>

<div id="toast">–í—ã–∏–≥—Ä—ã—à –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω!</div>

<div class="game-box">
    <canvas id="cvs"></canvas>
    <div id="mult">x1.00</div>
    <div id="rocket" style="display:none">
        <svg width="80" viewBox="0 0 512 512"><path fill="#e0e0e0" d="M437,75c-61-61-177-38-259,44S71,289,112,350c18,27,53,46,81,46,23,0,43-13,62-32l157-157C451,168,468,106,437,75Z"/><path fill="#f44336" d="M112,350c-10,32-35,116-35,116s84-25,116-35C158,421,121,385,112,350Z"/><circle fill="#80deea" cx="320" cy="192" r="48"/></svg>
    </div>
</div>

<div class="ui">
    <button class="btn" id="btn" onclick="act()">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
</div>

<div class="bets-label">–ñ–∏–≤—ã–µ —Å—Ç–∞–≤–∫–∏</div>
<div class="bets-list" id="list"></div>

<script>
    const db = [{n:"Lol Pop",p:3.23,i:"üç≠"},{n:"Snoop Cigar",p:10.21,i:"üö¨"},{n:"Snowman",p:15.5,i:"‚òÉÔ∏è"}];
    const bots = [
        {n:"Forever Young",b:1.68,av:"FY"},
        {n:"–°–∞–Ω—è",b:0.49,av:"–°"},
        {n:"Pudzhik #sash",b:0.37,av:"P"},
        {n:"–û–±–º–µ–Ω–∏–∫ —Å $",b:0.14,av:"O"}
    ];

    let x = 1.0, active = false, taken = false, loop, cvs, ctx;

    function init() {
        cvs = document.getElementById('cvs');
        cvs.width = window.innerWidth; cvs.height = 300;
        ctx = cvs.getContext('2d');
        updateList(1.0);
    }

    function act() { if(!active) start(); else take(); }

    function start() {
        active = true; taken = false; x = 1.0;
        let crash = (Math.random() * 5 + 1.2).toFixed(2);
        document.getElementById('btn').innerText = "–ó–∞–±—Ä–∞—Ç—å";
        document.getElementById('btn').disabled = false;
        document.getElementById('rocket').style.display = 'block';
        document.getElementById('mult').style.color = 'white';
        document.getElementById('toast').classList.remove('show');

        loop = setInterval(() => {
            x += x * 0.012;
            document.getElementById('mult').innerText = `x${x.toFixed(2)}`;
            
            let dx = Math.min((x-1)*70, cvs.width - 100);
            let dy = Math.min((x-1)*50, 200);
            document.getElementById('rocket').style.transform = `translate(${dx}px, -${dy}px)`;
            
            ctx.clearRect(0,0,cvs.width,cvs.height);
            ctx.beginPath(); ctx.strokeStyle = "#0ecb81"; ctx.lineWidth = 5;
            ctx.moveTo(50, 250); ctx.quadraticCurveTo(dx/2+50, 250, dx+50, 250-dy); ctx.stroke();
            
            updateList(x);
            if(x >= crash) stop();
        }, 60);
    }

    function take() {
        if(taken) return;
        taken = true;
        const t = document.getElementById('toast');
        t.innerText = `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ x${x.toFixed(2)}`;
        t.classList.add('show');
        document.getElementById('btn').innerText = "–°—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞";
        document.getElementById('btn').disabled = true;
        setTimeout(() => t.classList.remove('show'), 2000);
    }

    function updateList(m) {
        document.getElementById('list').innerHTML = bots.map(b => {
            let val = b.b * m;
            let g = [...db].reverse().find(item => val >= item.p);
            return `
                <div class="bet-item">
                    <div class="u-info">
                        <div class="u-av">${b.av}</div>
                        <div><div class="u-n">${b.n}</div><div class="u-s">üíé ${b.b} x${m.toFixed(2)}</div></div>
                    </div>
                    <div class="u-v ${g ? 'win-gift' : 'win-ton'}">
                        ${g ? `<span>${g.i}</span> ${g.n}` : val.toFixed(2)}
                    </div>
                </div>
            `;
        }).join('');
    }

    function stop() {
        clearInterval(loop); active = false;
        document.getElementById('mult').style.color = "#f6465d";
        document.getElementById('btn').disabled = false;
        document.getElementById('btn').innerText = "–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É";
        document.getElementById('rocket').style.display = 'none';
    }

    window.onload = init;
</script>
</body>
</html>



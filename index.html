<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Crash Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #11141a; /* Темный фон */
            --card: #1c2027; /* Фон карточек и панелей */
            --blue-main: #007bff; /* Основной синий */
            --blue-light: #0098ea; /* Для множителей */
            --green: #28a745; /* Для выигрышей */
            --red: #dc3545; /* Для краша */
            --text-secondary: #8c929a; /* Вторичный текст */
            --border-color: #2b303a;
        }

        * { box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; margin: 0; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }

        /* Header */
        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 16px; background: var(--bg);
            border-bottom: 1px solid var(--border-color);
        }
        .header-left, .header-right { display: flex; align-items: center; gap: 10px; }
        .close-btn { font-size: 24px; color: var(--text-secondary); cursor: pointer; }
        .online-count {
            background: rgba(0, 123, 255, 0.2); /* Прозрачный синий */
            color: var(--blue-main); padding: 4px 10px; border-radius: 20px;
            font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 5px;
        }
        .online-dot { width: 8px; height: 8px; background: var(--green); border-radius: 50%; }
        .balance-display {
            background: var(--card); padding: 6px 14px; border-radius: 50px;
            display: flex; align-items: center; gap: 8px; font-weight: 700;
            font-size: 14px; border: 1px solid var(--border-color);
        }
        .balance-display img { width: 18px; height: 18px; }
        .add-balance-btn {
            background: var(--blue-main); color: white; border-radius: 50%;
            width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
            font-size: 20px; font-weight: 600; cursor: pointer;
        }

        /* Game Area */
        .game-area {
            flex-grow: 1; position: relative; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            background: linear-gradient(180deg, #11141a 0%, #0a0c0f 100%);
            overflow: hidden;
        }
        #main-display {
            font-size: 80px; font-weight: 900;
            color: white; z-index: 10;
            text-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        #main-display.crashed { color: var(--red); }
        #main-display.waiting { color: var(--text-secondary); font-size: 60px; }

        #graphCanvas { position: absolute; inset: 0; width: 100%; height: 100%; z-index: 5; }

        .game-status-indicators {
            position: absolute; bottom: 20px; display: flex; gap: 10px; z-index: 10;
        }
        .status-tag {
            background: var(--card); padding: 6px 12px; border-radius: 8px;
            font-size: 12px; font-weight: 600; color: var(--blue-main);
        }
        .status-tag.waiting { background: var(--blue-main); color: white; }
        .history-tag { background: var(--card); padding: 6px 12px; border-radius: 8px; font-size: 12px; font-weight: 600; color: white; }
        .history-tag.green { color: var(--green); }
        .history-tag.blue { color: var(--blue-light); }


        /* Bet Button */
        .bet-button-container { padding: 16px; background: var(--card); border-top: 1px solid var(--border-color); }
        #place-bet-btn {
            width: 100%; height: 56px; border-radius: 12px; border: none;
            background: var(--blue-main); color: white; font-size: 18px; font-weight: 700;
            cursor: pointer; transition: background 0.2s, transform 0.2s;
            box-shadow: 0 4px 0 rgba(0, 96, 191, 0.7); /* Темнее синий для тени */
        }
        #place-bet-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0, 96, 191, 0.7); }
        #place-bet-btn:disabled {
            background: #2b303a; color: var(--text-secondary); cursor: not-allowed;
            box-shadow: none; transform: none;
        }
        #place-bet-btn.collect {
            background: var(--green);
            box-shadow: 0 4px 0 rgba(40, 167, 69, 0.7); /* Темнее зеленый */
        }
        #place-bet-btn.collect:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(40, 167, 69, 0.7); }


        /* Other Players Bets */
        .other-bets-section { flex-grow: 1; overflow-y: auto; background: var(--bg); padding: 0 16px; }
        .player-bet-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid var(--border-color);
        }
        .player-bet-item:last-child { border-bottom: none; }
        .player-info { display: flex; align-items: center; gap: 10px; }
        .player-avatar {
            width: 36px; height: 36px; background: var(--blue-light); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 16px;
            font-weight: 700;
        }
        .player-name { font-weight: 600; font-size: 15px; }
        .player-bet-details { text-align: right; }
        .bet-amount { font-weight: 700; font-size: 15px; display: flex; align-items: center; gap: 4px; }
        .bet-mult { color: var(--text-secondary); font-size: 12px; margin-top: 2px; }

        /* Bottom Nav */
        .bottom-nav {
            display: flex; justify-content: space-around; padding: 10px 0;
            background: var(--card); border-top: 1px solid var(--border-color);
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center;
            color: var(--text-secondary); font-size: 11px; font-weight: 600;
            cursor: pointer; padding: 5px; border-radius: 8px;
            transition: color 0.2s, background 0.2s;
        }
        .nav-item.active { color: var(--blue-main); background: rgba(0, 123, 255, 0.1); }
        .nav-item svg { width: 24px; height: 24px; margin-bottom: 4px; }
    </style>
</head>
<body>

<div class="header">
    <div class="header-left">
        <span class="close-btn">×</span>
        <div class="online-count"><span class="online-dot"></span> 134</div>
    </div>
    <div class="header-right">
        <div class="balance-display">
            <img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" alt="TON">
            <span id="balance-display">0.00</span>
        </div>
        <div class="add-balance-btn">+</div>
    </div>
</div>

<div class="game-area">
    <canvas id="graphCanvas"></canvas>
    <div id="main-display">3</div> <div class="game-status-indicators" id="game-status-indicators">
        </div>
</div>

<div class="bet-button-container">
    <button id="place-bet-btn">Сделать ставку</button>
</div>

<div class="other-bets-section" id="other-players-bets">
    </div>

<div class="bottom-nav">
    <div class="nav-item">
        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M4 17h16V19H4zM4 11h16V13H4zM4 5h16V7H4z"></path></svg>
        <span>Топ</span>
    </div>
    <div class="nav-item active">
        <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12.01 6.012c1.789 0 3.336.879 4.298 2.228 1.487-1.104 3.493-1.87 5.766-1.996.113.003.224.015.334.032.428.066.72.483.654.91-.013.08-.03.159-.05.237a.9.9 0 01-.13.34c-1.272 2.87-4.04 4.872-7.272 5.092L12 12l.006.012c.004.004.008.007.012.011l.002.003c.005.005.008.01.012.015 3.328-.003 6.07-1.968 7.378-4.83.009-.02.019-.04.028-.06.126-.263.2-.556.2-.871a2.03 2.03 0 00-2.005-2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.004 1.006-3.877 1.258-5.32 1.258-1.503 0-3.32-.23-5.228-1.253a.92.92 0 00-.817-.189c-.426.066-.718.483-.652.91.013.08.03.159.05.237.126.263.2.556.2.871a2.03 2.03 0 00-2.005 2.03c-.297.002-.58.07-.84.195-2.
